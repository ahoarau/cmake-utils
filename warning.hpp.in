/// Copyright 2026 Inria. All rights reserved.
#pragma once

// Emits a warning in a portable way.
//
// To emit a warning, one can insert:
//
// #pragma message @LIBRARY_NAME_UPPERCASE@_WARN("your warning message here")
//
// The use of this syntax is required as this is /not/ a standardized
// feature of C++ language or preprocessor, even if most of the
// compilers support it.

#define @LIBRARY_NAME_UPPERCASE@_WARN_STRINGISE_IMPL(x) #x
#define @LIBRARY_NAME_UPPERCASE@_WARN_STRINGISE(x) \
       @LIBRARY_NAME_UPPERCASE@_WARN_STRINGISE_IMPL(x)
#ifdef __GNUC__
# define @LIBRARY_NAME_UPPERCASE@_WARN(exp) ("WARNING: " exp)
#else
# ifdef _MSC_VER
#  define FILE_LINE_LINK __FILE__ "(" \
         @LIBRARY_NAME_UPPERCASE@_WARN_STRINGISE(__LINE__) ") : "
#  define @LIBRARY_NAME_UPPERCASE@_WARN(exp) (FILE_LINE_LINK "WARNING: " exp)
# else
// If the compiler is not recognized, drop the feature.
#  define @LIBRARY_NAME_UPPERCASE@_WARN(MSG) /* nothing */
# endif // __MSVC__
#endif // __GNUC__
